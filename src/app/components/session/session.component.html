<div id="msg" class="container">

  <h1> Créer une nouvelle présentation </h1>
  <p class="lead">

      Uploder le fichier que vous souhaitez utilisé comme support durant votre 
  </p>
</div>

<br>
<br>
<br>
<br>

<ng4-loading-spinner> </ng4-loading-spinner>

<div class="container" id="container123">
  <div class="jumbotron">
    <form #f="ngForm" (ngSubmit)="onSubmit(f)">

      <div class="form-group row">
        <label for="titre" class="col-sm-3 col-form-label col-form-label-sm">Titre de la session</label>
        <div class="col-sm-5">
          <input type="text" id="titre" name="titre" placeholder="Entrez le titre de votre présentation" class="form-control form-control-sm"
            id="titre" [(ngModel)]="model.titre" required #titre="ngModel">
        </div>
      </div>

      <div class="form-group row">
        <label for="uploadFile" class="col-sm-3 col-form-label col-form-label-sm">Uploder votre support de présentation (.jpg, .jpeg, .pdf, .png) </label>
        <div class="col-sm-5">
          <input type="file" id="uploadFile" name="uploadFile" (change)="onFileChange($event)" [(ngModel)]="model.uploadFile" required="required"
            [requiredErrorMsg]="'There should be a file'" #uploadFile="ngModel" accept=".jpg, .jpeg, .pdf, .png">
        </div>
      </div>

      <div class="form-group row">
        <label for="date" class="col-sm-3 col-form-label col-form-label-sm">Quand aura lieu votre présentation ? </label>
        <div class="col-sm-5">
          <input type="date" id="date" name="date" placeholder="dd/mm/yyyy" [(ngModel)]="model.date" required #date="ngModel" />
        </div>
      </div>

      <button type="submit" class="btn btn-primary" data-toggle="modal" data-target="#myModal" [disabled]="!f.form.valid">
        Valider
      </button>
    </form>

    <!-- Modal -->
    <div #myModal id="modal123" class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
      data-backdrop="false" [style.display]="showModal ? 'block' : 'none'">
      <div class="modal-dialog modal-lg" role="document" [style.display]="showModal ? 'block' : 'none'">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="exampleModalLabel"> Croper l'image </h5>
            <a href="#" data-dismiss="modal" aria-hidden="true" (click)="closeModal()" class="close">×</a>
          </div>
          <div class="modal-body">
            <div id="to123">
              <img-cropper id="123" #cropper [image]="data1" [settings]="cropperSettings1" (onCrop)="cropped($event)"></img-cropper>
            </div>
          </div>
          <div class="modal-footer">
            <button class="btn btn-primary" (click)="endCrop()">CROP</button>
          </div>
        </div>
      </div>
    </div>
  </div>

</div>